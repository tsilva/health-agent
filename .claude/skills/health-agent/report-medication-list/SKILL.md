---
name: report-medication-list
description: Generate medication and supplement inventory section for provider visits or records. Use when user asks "generate medication report", "medication list for my doctor", "provider medication summary", or needs a saveable medication document.
---

# Report: Medication List

Generate a standardized medication and supplement inventory section suitable for provider visits.

## Purpose

This report section provides:
- Current medications with dosing details
- Active supplements with reasons for use
- Recently discontinued items (last 12 months)
- Format optimized for copy/paste to provider intake forms

## Workflow

1. Load profile and extract `health_log_path`
2. Extract medication and supplement entries from health_log.csv
3. Determine active/discontinued status for each item
4. Parse dosage information from Details column
5. Format into standardized section
6. Save to `.output/{profile}/sections/medication-list-{date}.md`

## Efficient Data Access

### Extract Medications and Supplements
```bash
head -1 "{health_log_path}/health_log.csv" && grep -iE ",(medication|supplement)," "{health_log_path}/health_log.csv" | sort -t',' -k1
```

### Extract Context from Narrative
```bash
grep -i "{medication_name}" "{health_log_path}/health_log.md" | head -20
```

## Status Determination

Use the standard status determination keywords and algorithm from `references/status-keywords.md`.

For this skill, apply: **Active/Discontinued only** (medications and supplements)

## Output Format

The section must follow this exact format for composability:

```markdown
---
section: medication-list
generated: {YYYY-MM-DD}
---

# Medication & Supplement List

## Active Medications

| Medication | Dose | Frequency | Start Date | Prescriber |
|------------|------|-----------|------------|------------|
| {name} | {dose} | {frequency} | {date} | {prescriber if known} |

## Active Supplements

| Supplement | Dose | Reason |
|------------|------|--------|
| {name} | {dose} | {reason if known} |

## Recently Discontinued (Last 12 Months)

| Name | Type | Dose | Stop Date | Reason |
|------|------|------|-----------|--------|
| {name} | Medication/Supplement | {dose} | {date} | {reason} |

---
*Section generated by health-agent report-medication-list skill*
```

## Output File

- **Directory**: `.output/{profile}/sections/`
- **Filename**: `medication-list-YYYY-MM-DD.md`
- **Create directory if needed**: `mkdir -p .output/{profile}/sections`

## Section Header Requirements

For composability with other report sections:
1. Include YAML frontmatter with section name and date
2. Use consistent H1 header format
3. End with horizontal rule and attribution line
4. Tables must be valid markdown for concatenation

## Prescriber/Reason Inference

When Details column doesn't explicitly state:
- Check health_log.md narrative for context
- Look for related episode events for conditions being treated
- Mark as "Not specified" if truly unknown

## Special Considerations

- **PRN Medications**: Include with frequency noted as "as needed (PRN)"
- **Recent Changes**: Bold any items started/stopped in last 90 days
- **Interactions**: Note if any known interactions exist between active items
